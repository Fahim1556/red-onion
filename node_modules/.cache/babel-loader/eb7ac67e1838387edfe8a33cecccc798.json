{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Development\\\\latest all projects\\\\red-onion\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from './components/Header/Header';\nimport FoodContent from './components/FoodContent/FoodContent';\nimport NotFound from './components/NotFound/NotFound';\nimport Login from './components/Login/Login';\nimport Banner from './components/Banner/Banner';\nimport Footer from './components/Footer/Footer';\nimport FoodDetail from './components/FoodDetail/FoodDetail';\nimport { getDatabaseCart, addToDatabaseCart } from './utilities/databaseManager';\nimport { AuthContextProvider } from './components/Login/UseAuth';\nimport Inventory from './components/Inventory/Inventory';\nimport Shipment from './components/Shipment/Shipment';\nimport Features from './components/Features/Features';\n\nfunction App() {\n  const [cart, setCart] = useState([]);\n  const [foods, setFoods] = useState([]);\n  useEffect(() => {\n    fetch('https://glacial-woodland-72025.herokuapp.com/products').then(res => res.json()).then(data => {\n      setFoods(data);\n    });\n  }, []);\n  useEffect(() => {\n    const saveCart = getDatabaseCart();\n    const foodProductKey = Object.keys(saveCart);\n\n    if (foods.length) {\n      const cardFoods = foodProductKey.map(key => {\n        const food = foods.find(fd => fd.key === key);\n        food.quantity = saveCart[key];\n        return food;\n      });\n      setCart(cardFoods);\n    }\n  }, []);\n\n  const handleFoodCart = food => {\n    const sameFood = cart.find(fd => fd.key === food.key);\n    let count = 1,\n        newCart;\n\n    if (sameFood) {\n      count = sameFood.quantity + 1;\n      sameFood.quantity = count;\n      const othersFood = cart.filter(fd => fd.key !== food.key);\n      newCart = [...othersFood, sameFood];\n    } else {\n      food.quantity = 1;\n      newCart = [...cart, food];\n    }\n\n    setCart(newCart);\n    addToDatabaseCart(food.id, count);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(AuthContextProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/shipment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Header, {\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Shipment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/inventory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Header, {\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Inventory, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Header, {\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(FoodContent, {\n    handleFoodCart: handleFoodCart,\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(Features, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/food/:foodkey\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Header, {\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(FoodDetail, {\n    cart: cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"*\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(NotFound, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Web Development/latest all projects/red-onion/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","Header","FoodContent","NotFound","Login","Banner","Footer","FoodDetail","getDatabaseCart","addToDatabaseCart","AuthContextProvider","Inventory","Shipment","Features","App","cart","setCart","foods","setFoods","fetch","then","res","json","data","saveCart","foodProductKey","Object","keys","length","cardFoods","map","key","food","find","fd","quantity","handleFoodCart","sameFood","count","newCart","othersFood","filter","id"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\r\nimport Header from './components/Header/Header';\r\nimport FoodContent from './components/FoodContent/FoodContent';\r\nimport NotFound from './components/NotFound/NotFound';\r\nimport Login from './components/Login/Login';\r\nimport Banner from './components/Banner/Banner';\r\nimport Footer from './components/Footer/Footer';\r\nimport FoodDetail from './components/FoodDetail/FoodDetail';\r\nimport { getDatabaseCart, addToDatabaseCart } from './utilities/databaseManager';\r\nimport { AuthContextProvider } from './components/Login/UseAuth';\r\nimport Inventory from './components/Inventory/Inventory';\r\nimport Shipment from './components/Shipment/Shipment';\r\nimport Features from './components/Features/Features';\r\n\r\nfunction App() {\r\n  const [cart , setCart] = useState([]);\r\n  const [foods, setFoods] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('https://glacial-woodland-72025.herokuapp.com/products')\r\n    .then(res => res.json())\r\n    .then(data => {\r\n        setFoods(data);\r\n    })\r\n}, [])\r\n\r\n  useEffect(() => {\r\n    const saveCart = getDatabaseCart(); \r\n    const foodProductKey = Object.keys(saveCart);\r\n    if(foods.length){\r\n      const cardFoods = foodProductKey.map(key => {\r\n        const food = foods.find(fd => fd.key === key);\r\n        food.quantity = saveCart[key];\r\n        return food;\r\n      })\r\n      setCart(cardFoods);\r\n    }\r\n  }, [])\r\n\r\n  const handleFoodCart = (food) => {\r\n    const sameFood = cart.find(fd => fd.key === food.key);\r\n    let count = 1, newCart;\r\n    if(sameFood){\r\n      count = sameFood.quantity + 1;\r\n      sameFood.quantity = count;\r\n      const othersFood = cart.filter(fd => fd.key !== food.key);\r\n      newCart = [...othersFood, sameFood];\r\n    }\r\n    else{\r\n      food.quantity = 1;\r\n      newCart =[...cart, food];\r\n    }\r\n    setCart(newCart);\r\n    addToDatabaseCart(food.id, count);\r\n  }\r\n\r\n  return ( \r\n    <div className=\"App\">\r\n      <AuthContextProvider>\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/login\">\r\n              <Login/>\r\n            </Route>\r\n            <Route path=\"/shipment\">\r\n              <Header cart={cart}/>\r\n              <Shipment/>\r\n            </Route>\r\n            <Route path=\"/inventory\">\r\n                <Header cart={cart}/>\r\n                <Inventory/>\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              <Header cart={cart}/>\r\n              <Banner/>\r\n              <FoodContent handleFoodCart={handleFoodCart} cart={cart}/>\r\n              <Features/>\r\n              <Footer/>\r\n            </Route>\r\n            <Route path=\"/food/:foodkey\">\r\n              <Header cart={cart}/>\r\n              <FoodDetail cart={cart}/>\r\n            </Route>\r\n            <Route path=\"*\">\r\n              <NotFound/>\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </AuthContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}